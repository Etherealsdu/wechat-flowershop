<!-- pages/index/index.wxml -->
<view class="container">
  <!-- Header -->
  <view class="header">
    <text class="header-title">{{i18n.welcomeTitle}}</text>
  </view>
  
  <!-- Hero Banner -->
  <swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" duration="500" circular="{{true}}">
    <swiper-item>
      <image src="/images/banner1.jpg" class="banner-image" mode="aspectFill"></image>
    </swiper-item>
    <swiper-item>
      <image src="/images/banner2.jpg" class="banner-image" mode="aspectFill"></image>
    </swiper-item>
    <swiper-item>
      <image src="/images/banner3.jpg" class="banner-image" mode="aspectFill"></image>
    </swiper-item>
  </swiper>
  
  <!-- Language Switcher -->
  <view class="language-switcher p-3">
    <view class="flex justify-center space-x-4">
      <view class="lang-btn {{i18nLocale === 'zh' ? 'active' : ''}}" bindtap="switchLanguage" data-lang="zh">
        <text>中文</text>
      </view>
      <view class="lang-btn {{i18nLocale === 'en' ? 'active' : ''}}" bindtap="switchLanguage" data-lang="en">
        <text>EN</text>
      </view>
    </view>
  </view>
  
  <!-- Quick Actions -->
  <view class="quick-actions p-3">
    <view class="flex justify-between mb-3">
      <view class="action-btn text-center" bindtap="goToShop">
        <image src="/images/roses-icon.png" class="action-icon"></image>
        <text class="action-text">{{i18n.roses}}</text>
      </view>
      <view class="action-btn text-center" bindtap="goToShop">
        <image src="/images/sunflowers-icon.png" class="action-icon"></image>
        <text class="action-text">{{i18n.sunflowers}}</text>
      </view>
      <view class="action-btn text-center" bindtap="goToShop">
        <image src="/images/arrangements-icon.png" class="action-icon"></image>
        <text class="action-text">{{i18n.arrangements}}</text>
      </view>
      <view class="action-btn text-center" bindtap="goToShop">
        <image src="/images/plants-icon.png" class="action-icon"></image>
        <text class="action-text">{{i18n.plants}}</text>
      </view>
    </view>
  </view>
  
  <!-- Featured Flowers -->
  <view class="section p-3">
    <view class="section-header mb-3">
      <text class="section-title">{{i18n.featuredFlowers}}</text>
      <text class="section-more" bindtap="goToShop">{{i18n.seeAll}}</text>
    </view>
    <scroll-view scroll-x="{{true}}" class="horizontal-scroll">
      <view class="flex">
        <block wx:for="{{featuredFlowers}}" wx:key="id">
          <view class="product-card mr-3" bindtap="viewFlowerDetail" data-flower="{{item}}">
            <image src="{{item.image}}" class="product-image" mode="aspectFill"></image>
            <view class="product-info">
              <text class="product-title">{{item.name}}</text>
              <view class="product-price">
                <text class="current-price">${{item.price}}</text>
                <text class="original-price" wx:if="{{item.originalPrice}}">${{item.originalPrice}}</text>
              </view>
              <view class="rating">
                <text class="star">★</text>
                <text>{{item.rating}}</text>
              </view>
            </view>
          </view>
        </block>
      </view>
    </scroll-view>
  </view>
  
  <!-- Categories -->
  <view class="section p-3">
    <view class="section-header mb-3">
      <text class="section-title">{{i18n.categories}}</text>
    </view>
    <view class="grid grid-cols-2">
      <view class="category-card" bindtap="goToCategory" data-category="roses">
        <image src="/images/roses-category.jpg" class="category-image"></image>
        <text class="category-name">{{i18n.roses}}</text>
      </view>
      <view class="category-card" bindtap="goToCategory" data-category="sunflowers">
        <image src="/images/sunflowers-category.jpg" class="category-image"></image>
        <text class="category-name">{{i18n.sunflowers}}</text>
      </view>
      <view class="category-card" bindtap="goToCategory" data-category="lilies">
        <image src="/images/lilies-category.jpg" class="category-image"></image>
        <text class="category-name">{{i18n.lilies}}</text>
      </view>
      <view class="category-card" bindtap="goToCategory" data-category="orchids">
        <image src="/images/orchids-category.jpg" class="category-image"></image>
        <text class="category-name">{{i18n.orchids}}</text>
      </view>
    </view>
  </view>
  
  <!-- Special Offers -->
  <view class="section p-3">
    <view class="section-header mb-3">
      <text class="section-title">{{i18n.specialOffers}}</text>
    </view>
    <view class="card offer-card">
      <view class="offer-content flex align-center">
        <image src="/images/discount-icon.png" class="offer-icon"></image>
        <view class="offer-text">
          <text class="offer-title">{{i18n.freeDelivery}}</text>
          <text class="offer-subtitle">{{i18n.limitedTime}}</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- Footer -->
  <view class="footer">
    <text>{{i18n.copyright || '© 2025 Flower Shop. All rights reserved.'}}</text>
  </view>
</view>